language: node_js
sudo: 'false'
dist: trusty
before_script:
  - npm install -g polymer-cli
  - polymer install --variants
node_js: '9'
addons:
  firefox: latest
  chrome: stable
script:
  - xvfb-run polymer test
  - |-
    >-
    if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then polymer test -s 'default';
    fi
env:
  global:
    - secure: >-
        gVhcLaK7yQ/JH9eHNBaWZhs5rYw35nQT7zlaAbnpMtw0Jb7WSWu++yrd5b3ZL7QE2y4V37GsNeonaFIEWv2U5QHQ2dAcpQNdUQ/Sg1gyh0jXmBOCrF2S7IGOAQ9hVlbJxBtAvamVmUFKoQywU7aTln5/d1PRAuDY+g1t2h4gbNE=
    - secure: >-
        ICaWDEKbGiGC6zkps8YfjgufztoYRcHk4pcUZhipZNa09iweulkarOyFvx+rlnkNd1WSR1sdcA/38eXWcOkQXrpAUZu3tIZxsPkm1Ybj0ozUM1UEV9dtu0bZsh1Maqg05Dw8CIjDb/AqC9sVl/+Ced4FdU9TfnGrdOi5dXCcIvw=
cache:
  directories:
    - node_modules
